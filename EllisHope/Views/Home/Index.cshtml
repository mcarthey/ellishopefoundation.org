@inject EllisHope.Services.ISiteSettingsService SiteSettings
@{
    ViewBag.Title = "Home";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var defaultDonateUrl = await SiteSettings.GetDefaultDonationUrlAsync() ?? "/contact";
    var givebutterAccountId = await SiteSettings.GetGivebutterAccountIdAsync();
    var givebutterCampaignCode = SiteSettings.ExtractCampaignCode(defaultDonateUrl);
}

<main>

    <!-- HERO SECTION -->
    <section class="theme-banner-seven" style="background:#f7f6fb;">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-6">
                    <div class="hero-content">
                        <h1 class="main-title">@Content.Text("Home", "HeroTitle")</h1>
                        <p class="description">@Content.Text("Home", "HeroSubtitle")</p>
                        <a href="@defaultDonateUrl" target="_blank" class="ht-btn style-2"
                           data-gb-account="@givebutterAccountId" data-gb-campaign="@givebutterCampaignCode">Donate Today</a>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="hero-img">
                        <img class="hero-main img-fluid" src="@Content.Image("Home", "HeroImage")" alt="hero">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FEEDBACK / TESTIMONIALS CAROUSEL -->
    <div class="black-bg feedback-section-two position-relative z-1 dot-style-2 pt-60 pb-100">
        <img class="shape-1" src="~/assets/img/shape/shape-10.png" alt="">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-9">
                    @{
                        var testimonials = ViewBag.Testimonials as IEnumerable<EllisHope.Models.Domain.Testimonial>;
                    }
                    @if (testimonials != null && testimonials.Any())
                    {
                        <div class="testimonial-carousel slick-slider" style="min-height: 220px;">
                            @foreach (var testimonial in testimonials)
                            {
                                <div class="feedback-wrap-2">
                                    @if (!string.IsNullOrEmpty(testimonial.AuthorRole))
                                    {
                                        <h5 class="slogan-author" style="font-size: 16px;">@testimonial.AuthorRole</h5>
                                    }
                                    <p class="feedback-text" style="font-size: 24px; line-height: 1.5;">"@testimonial.Quote"</p>
                                    <h4 class="name" style="font-size: 18px;">- @testimonial.AuthorName</h4>
                                </div>
                            }
                        </div>
                    }
                    else
                    {
                        <!-- Fallback to page content system if no testimonials -->
                        <div class="feedback-wrap-2">
                            <h5 class="slogan-author" style="font-size: 16px;">@Content.Text("Home", "TestimonialLabel")</h5>
                            <p class="feedback-text" style="font-size: 24px; line-height: 1.5;">"@Content.Text("Home", "TestimonialQuote")"</p>
                            <h4 class="name" style="font-size: 18px;">@Content.Text("Home", "TestimonialAuthor")</h4>
                        </div>
                    }
                </div>
                <div class="col-lg-3 d-flex justify-content-end">
                    <div class="right-content text-center">
                        <p class="text-white">Ready to help?</p>
                        <a href="@defaultDonateUrl" target="_blank" class="ht-btn style-2"
                           data-gb-account="@givebutterAccountId" data-gb-campaign="@givebutterCampaignCode">Donate Today</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- OUR SERVICES ("What We Do") -->
    <section class="feature-section pb-75 pb-lg-15" style="background:#fff;">
        <div class="container">
            <div class="row gx-xxl-5">
                <div class="col-lg-4 col-md-6">
                    <div class="feature-wrap-4">
                        <div class="icon">
                            <img class="front-icon" src="~/assets/img/icon/icon-34.svg" alt="Training Icon">
                        </div>
                        <h4 class="feature-title">@Content.Text("Home", "Service1Title")</h4>
                        <p>@Content.Text("Home", "Service1Description")</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="feature-wrap-4">
                        <div class="icon">
                            <img class="front-icon" src="~/assets/img/icon/icon-35.svg" alt="Health Icon">
                        </div>
                        <h4 class="feature-title">@Content.Text("Home", "Service2Title")</h4>
                        <p>@Content.Text("Home", "Service2Description")</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="feature-wrap-4">
                        <div class="icon">
                            <img class="front-icon" src="~/assets/img/icon/icon-36.svg" alt="Community Icon">
                        </div>
                        <h4 class="feature-title">@Content.Text("Home", "Service3Title")</h4>
                        <p>@Content.Text("Home", "Service3Description")</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="back-bg"></div>
    </section>

    <!-- FEATURED CAUSES -->
    <section class="cause-section arrow-style-2 position-relative z-2 pt-140 pb-95 pt-lg-60 pb-lg-75" style="background:#f7f6fb;">
        <div class="container">
            <div class="row mb-40">
                <div class="col-xl-6">
                    <div class="title-two mb-50">
                        <h2 class="title">@Content.Text("Home", "InitiativesTitle")</h2>
                        <p>@Content.Text("Home", "InitiativesSubtitle")</p>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <div class="causes-wrap-2">
                        <div class="cause-thumb">
                            <img src="~/assets/img/cause/training-sponsorships-450x300.jpg" alt="Personal Training Sponsorship">
                        </div>
                        <div class="cause-content">
                            <h3 class="cause-title">
                                <a href="/causes/details">Training Sponsorships</a>
                            </h3>
                            <p>Provide professional fitness training scholarships to individuals in need.</p>
                            <a href="@defaultDonateUrl" target="_blank" class="donation-btn"
                               data-gb-account="@givebutterAccountId" data-gb-campaign="@givebutterCampaignCode">Donate Now</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="causes-wrap-2">
                        <div class="cause-thumb">
                            <img src="~/assets/img/cause/wellness-workshops-450x300.jpg" alt="Wellness Workshops">
                        </div>
                        <div class="cause-content">
                            <h3 class="cause-title">
                                <a href="/causes/details">Wellness Workshops</a>
                            </h3>
                            <p>Educational classes teaching healthy habits, nutrition, and fitness basics.</p>
                            <a href="@defaultDonateUrl" target="_blank" class="donation-btn"
                               data-gb-account="@givebutterAccountId" data-gb-campaign="@givebutterCampaignCode">Donate Now</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="causes-wrap-2">
                        <div class="cause-thumb">
                            <img src="~/assets/img/cause/community-challenges-450x300.jpg" alt="Community Challenges">
                        </div>
                        <div class="cause-content">
                            <h3 class="cause-title">
                                <a href="/causes/details">Community Challenges</a>
                            </h3>
                            <p>Fun local events promoting teamwork, fitness, and mutual encouragement.</p>
                            <a href="@defaultDonateUrl" target="_blank" class="donation-btn"
                               data-gb-account="@givebutterAccountId" data-gb-campaign="@givebutterCampaignCode">Donate Now</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ABOUT SECTION -->
    <section class="about-section-two pt-230 pb-45 pt-lg-60 pb-lg-15">
        <img class="shape-1" src="~/assets/img/shape/shape-8.png" alt="shape">
        <img class="shape-2" src="~/assets/img/shape/shape-9.png" alt="shape">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <div class="img-wrapper-two text-center">
                        <img class="main-img img-fluid" src="@Content.Image("Home", "AboutImage")" alt="about us">
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="text-wrapper-one mb-45 wow fadeInUp" data-wow-delay="0.1">
                        <div class="title-two mb-50">
                            <h2 class="title">@Content.Text("Home", "AboutTitle")</h2>
                            <p>@Content.Text("Home", "AboutDescription")</p>
                        </div>
                        <a class="ht-btn style-2 mt-30" href="/about">Learn More</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CONTACT CTA -->
    <section class="contact-section-two pt-140 pb-140" data-background="@Content.Image("Home", "CTABackground")">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <div class="title-five">
                        <h2 class="title text-white">@Content.Text("Home", "CTATitle")</h2>
                        <p class="text-white">@Content.Text("Home", "CTADescription")</p>
                        <a href="/contact" class="ht-btn style-7">Get Involved</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

</main>

@section Scripts {
    <script>
        $(document).ready(function() {
            // Initialize testimonial carousel
            $('.testimonial-carousel').slick({
                dots: true,
                arrows: false,
                infinite: true,
                speed: 500,
                fade: true,
                autoplay: true,
                autoplaySpeed: 5000,
                cssEase: 'linear',
                pauseOnHover: true,
                adaptiveHeight: false
            });
        });
    </script>
}
